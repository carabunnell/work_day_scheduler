<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"
        integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">

</head>
<style>
    .jumbotron {
        background: white;
        border-bottom: solid 5px;
    }

    .container {
        background-color: white;
        padding: 0px;
    }

    body {
        font-family: "Concert One", cursive;
        font-size: 16px;
    }

    .task-list {
        display: list-item;
        list-style-type: none;
    }


    .task-input {
        background-color: #77dd77;
    }

.row {
  border-top: 1px solid white;;
}

.hour {
  background-color: #ffffff;
  color: #000000;
  border-top: 1px dashed #000000;
}

.future {
  background-color: #77dd77;
  color: white;
  min-height: 80px;
  padding: 0px;
  border-top: 1px solid white;
}

.saveBtn {
  border-left: 1px solid black;
  height: 80px;
  border-top-right-radius: 15px;
  border-bottom-right-radius: 15px;
  background-color: #06AED5;
  color: white;
}

.saveBtn:hover {
    opacity: 0.5px;
  font-size: 20px;
  transition: all .3s ease-in-out;
}
.col-lg-10 {
    padding: 0px;
}
.col-left {
    padding-right: 0px;
}
.col-right {
    padding-left: 0px;
}

</style>

<body>
    <div class="container">
        <div class="jumbotron">
            <h1 class="text-center">Work Day Scheduler</h1>
            <p class="text-center">A simple calendar app for scheduling your work day.</p>
            <p class="text-center date-time"></p>

        </div>
        <div class="row">
            <div class="col-lg-1 col-left">
                <div class="hour" id="time-slot-8">8AM</div>
            </div>
            <div class="col-lg-10">
                <div class="future future-8">
                    <input type="text" name="task-text"
                    class="task-input user-task-input-8am" />
                    <ul class="task-list task-list-8am"></ul>
                </div>
                
            </div>
            <div class="col-lg-1 col-right">
                <div class="saveBtn">
                    <submit class="save-task save-task-8am">Save</submit>
                </div>
               
            </div>

        </div>

        <div class="row">
            <div class="col-lg-1 col-left">
                <div class="hour" id="time-slot-9" value="9">9AM</div>
            </div>
            <div class="col-lg-10">
                <div class="future future-9">
                    <input type="text" name="task-text"
                    class="task-input user-task-input-9am" />
                    <ul class="task-list task-list-9am"></ul>
                </div>
                
            </div>
            <div class="col-lg-1 col-right">
                <div class="saveBtn">
                    <submit class="save-task save-task-9am">Save</submit>
                </div>
               
            </div>

        </div>

        <div class="row">
            <div class="col-lg-1 col-left">
                <div class="hour" id="time-slot-10">10AM</div>
            </div>
            <div class="col-lg-10">
                <div class="future future-10">
                    <input type="text" name="task-text"
                    class="task-input user-task-input-10am" />
                    <ul class="task-list task-list-10am"></ul>
                </div>
                
            </div>
            <div class="col-lg-1 col-right">
                <div class="saveBtn">
                    <submit class="save-task save-task-10am">Save</submit>
                </div>
                
            </div>
        </div>

        <div class="row">
            <div class="col-lg-1 col-left">
                <div class="hour" id="time-slot-11">11AM</div>
            </div>
            <div class="col-lg-10">
                <div class="future future-11">
                    <input type="text" name="task-text"
                    class="task-input user-task-input-11am" />
                    <ul class="task-list task-list-11am"></ul>
                </div>
                
            </div>
            <div class="col-lg-1 col-right">
                <div class="saveBtn">
                    <submit class="save-task save-task-11am">Save</submit>
                </div>
    
            </div>
        </div>

        <div class="row">
            <div class="col-lg-1 col-left">
                <div class="hour" id="time-slot-12">12PM</div>
            </div>
            <div class="col-lg-10">
                <div class="future future-12">
                    <input type="text" name="task-text"
                    class="task-input user-task-input-12pm" />
                <ul class="task-list task-list-12pm"></ul>
                </div>
                
            </div>
            <div class="col-lg-1 col-right">
                <div class="saveBtn">
                    <submit class="save-task save-task-12pm">Save</submit>
                </div>
                
            </div>
        </div>

        <div class="row">
            <div class="col-lg-1 col-left">
                <div class="hour" id="time-slot-1">1PM</div>
            </div>
            <div class="col-lg-10">
                <div class="future future-1">
                    <input type="text" name="task-text"
                    class="task-input user-task-input-1pm" />
                    <ul class="task-list task-list-1pm"></ul>
                </div>
                
            </div>
            <div class="col-lg-1 col-right">
                <div class="saveBtn">
                    <submit class="save-task save-task-1pm">Save</submit>
                </div>
                
            </div>
        </div>

        <div class="row">
            <div class="col-lg-1 col-left">
                <div class="hour" id="time-slot-2">2PM</div>
            </div>
            <div class="col-lg-10">
                <div class="future future-2">
                    <input type="text" name="task-text"
                    class="task-input user-task-input-2pm" />
                    <ul class="task-list task-list-2pm"></ul>
                </div>
                
            </div>
            <div class="col-lg-1 col-right">
                <div class="saveBtn">
                    <submit class="save-task save-task-2pm">Save</submit>
                </div>
                
            </div>
        </div>

        <div class="row">
            <div class="col-lg-1 col-left">
                <div class="hour" id="time-slot-3">3PM</div>
            </div>
            <div class="col-lg-10">
                <div class="future future-3">
                    <input type="text" name="task-text"
                    class="task-input user-task-input-3pm" />
                    <ul class="task-list task-list-3pm"></ul>
                </div>
                
            </div>
            <div class="col-lg-1 col-right">
                <div class="saveBtn">
                    <submit class="save-task save-task-3pm">Save</submit>
                </div>
                
            </div>
        </div>

        <div class="row">
            <div class="col-lg-1 col-left">
                <div class="hour" id="time-slot-4">4PM</div>
            </div>
            <div class="col-lg-10">
                <div class="future future-4">
                    <input type="text" name="task-text"
                    class="task-input user-task-input-4pm" />
                <ul class="task-list task-list-4pm"></ul>
                </div>
                
            </div>
            <div class="col-lg-1 col-right">
                <div class="saveBtn">
                    <submit class="save-task save-task-4pm">Save</submit>
                </div>
                
            </div>
        </div>

        <div class="row">
            <div class="col-lg-1 col-left">
                <div class="hour" id="time-slot-5">5PM</div>
            </div>
            <div class="col-lg-10">
                <div class="future future-5">
                    <input type="text" name="task-text"
                    class="task-input user-task-input-5pm" />
                <ul class="task-list task-list-5pm"></ul>
                </div>
                
            </div>
            <div class="col-lg-1 col-right">
                <div class="saveBtn">
                    <submit class="save-task save-task-5pm">Save</submit>
                </div>
                
            </div>
        </div>

        <div class="row">
            <div class="col-lg-12">
                <div class="btn">
                    <button class="btn clear-all">Clear Content</button>
                </div>
            </div>
    </div>
    <!-- <script> -->

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.24.0/moment.js"
        integrity="sha256-H9jAz//QLkDOy/nzE9G4aYijQtkLt9FvGmdUTwBk6gs=" crossorigin="anonymous"></script>
    
    <script>
        $(document).ready(function () {

//=========================================== VARIABLES ============================================
            var tasksArray8AM = [];
            var tasksArray9AM = [];
            var tasksArray10AM = [];
            var tasksArray11AM = [];
            var tasksArray12PM = [];
            var tasksArray1PM = [];
            var tasksArray2PM = [];
            var tasksArray3PM = [];
            var tasksArray4PM = [];
            var tasksArray5PM = [];
            var newListInput;

            var timeHour = moment().format('h'); // January 30th 2020, 11:07:51 pm
            var amPm = moment().format('a');
            // timeHour = "4";
            // amPm = "pm";

            var weekDay = moment().format('dddd');                    // Thursday
            var monthAndDate = moment().format("MMMM Do");               // Jan 30th
            $(".date-time").text(weekDay + ", " + monthAndDate);
        
            var am8 = $("#time-slot-8").html();
            var am9 = $("#time-slot-9").html();    
            var am10 = $("#time-slot-10").html();
            var am11 = $("#time-slot-11").html();
            var pm12 = $("#time-slot-12").html();
            var pm1 = $("#time-slot-1").html();
            var pm2 = $("#time-slot-2").html();
            var pm3 = $("#time-slot-3").html();
            var pm4 = $("#time-slot-4").html();
            var pm5 = $("#time-slot-5").html();

// =========================================== FUNCTIONS ==========================================================
            function timeSlotGreyOut(htmlTimePrint, futureClass, inputClass) {
                    // console.log("html: " + htmlTimePrint + "future: " + futureClass)
                    arraySplit = htmlTimePrint.split("");
                    var newTimeString;
                    // console.log(arraySplit);

                    if (arraySplit.length === 4) {
                        var newTimeString = arraySplit[0] + arraySplit[1];
                        var newAmPmString = arraySplit[2] + arraySplit[3];
                        console.log("aahhhh " + newTimeString + " " + newAmPmString.toLowerCase());
                    }
                    else if (arraySplit.length === 3) {
                        var newTimeString = arraySplit[0];
                        var newAmPmString = arraySplit[1] + arraySplit[2];
                        console.log("aahhhh " + newTimeString);
                    }

                    if (amPm === "pm" && timeHour !== "12") {
                        if (newAmPmString.toLowerCase() === "am") {
                            futureClass.css("background-color", "#d3d3d3");
                            inputClass.css("background-color", "#d3d3d3");
                        }
                        else if (parseInt(newTimeString) < parseInt(timeHour)) {
                            futureClass.css("background-color", "#d3d3d3");
                            inputClass.css("background-color", "#d3d3d3");
                        }
                        else if (parseInt(newTimeString) > parseInt(timeHour)) {
                            $(".future-12").css("background-color", "#d3d3d3");
                            $(".user-task-input-12pm").css("background-color", "#d3d3d3");
                        }
                        
                    }
                    else if (amPm === "pm" && timeHour === "12") {
                        if (newAmPmString.toLowerCase() === "am") {
                            futureClass.css("background-color", "#d3d3d3");
                            inputClass.css("background-color", "#d3d3d3");
                        }
                    }
                    
                    else if (amPm === "am") {
                        if (parseInt(newTimeString) < parseInt(timeHour) && newAmPmString.toLowerCase() === "am") {
                            futureClass.css("background-color", "#d3d3d3");
                            inputClass.css("background-color", "#d3d3d3");
                        }
                    }

                    if (newTimeString === timeHour && newAmPmString.toLowerCase() === amPm)  {
                        futureClass.css("background-color", "#ff6961");
                        inputClass.css("background-color", "#ff6961");
                    }
                }
            
            function getLocalStorage(storageIndex, properDiv, array) {
                localStorage.getItem(array);
                printArrayToDiv(array, properDiv);
            }

            function creatingDivTasks(taskInput, array, printTasks, storageName) {
                // pass in the reference to the input, the array per button. the div printing
                newListInput = taskInput.val();
                array.push(newListInput);
                printArrayToDiv(array, printTasks);
                localStorage.setItem(storageName, array);
            }

            function printArrayToDiv(array, appendingDiv) {

                for (var i = 0; i < array.length; i++) {
                    var newListItem = $("<li>");
                    newListItem.text(array[i]);
                }
                appendingDiv.append(newListItem);
            }
 //-================================= CALLING THE FUNCTIONS ================================================   
            
            timeSlotGreyOut(am8, $(".future-8"), $(".user-task-input-8am"));
            timeSlotGreyOut(am9, $(".future-9"), $(".user-task-input-9am"));
            timeSlotGreyOut(am10, $(".future-10"), $(".user-task-input-10am"));
            timeSlotGreyOut(am11, $(".future-11"), $(".user-task-input-11am"));
            timeSlotGreyOut(pm12, $(".future-12"), $(".user-task-input-12pm")); // $(".user-task-input-12pm")
            timeSlotGreyOut(pm1, $(".future-1"), $(".user-task-input-1pm"));
            timeSlotGreyOut(pm2, $(".future-2"), $(".user-task-input-2pm"));
            timeSlotGreyOut(pm3, $(".future-3"), $(".user-task-input-3pm"));
            timeSlotGreyOut(pm4, $(".future-4"), $(".user-task-input-4pm"));
            timeSlotGreyOut(pm5, $(".future-5"), $(".user-task-input-5pm"));

            getLocalStorage("Array-8am", $(".task-list-8am"), tasksArray8AM);

// ============================================ ON CLICK ==========================================
            //on clicking the save button,
            $(".save-task-8am").on("click", function () {
                creatingDivTasks($(".user-task-input-8am"), tasksArray8AM, $(".task-list-8am"), "Array-8am");
            });

            $(".save-task-9am").on("click", function () {
                creatingDivTasks($(".user-task-input-9am"), tasksArray9AM, $(".task-list-9am"), "Array-9am");
            });

            $(".save-task-10am").on("click", function () {
                creatingDivTasks($(".user-task-input-10am"), tasksArray10AM, $(".task-list-10am"), "Array-10am");
            });

            $(".save-task-11am").on("click", function () {
                creatingDivTasks($(".user-task-input-11am"), tasksArray11AM, $(".task-list-11am"), "Array-11am");
            });

            $(".save-task-12pm").on("click", function () {
                creatingDivTasks($(".user-task-input-12pm"), tasksArray12PM, $(".task-list-12pm"), "Array-12pm");
            });
            $(".save-task-1pm").on("click", function () {
                creatingDivTasks($(".user-task-input-1pm"), tasksArray1PM, $(".task-list-1pm"), "Array-1pm");
            });

            $(".save-task-2pm").on("click", function () {
                creatingDivTasks($(".user-task-input-2pm"), tasksArray2PM, $(".task-list-2pm"), "Array-2pm");
            });
            $(".save-task-3pm").on("click", function () {
                creatingDivTasks($(".user-task-input-3pm"), tasksArray3PM, $(".task-list-3pm"), "Array-3pm");
            });

            $(".save-task-4pm").on("click", function () {
                creatingDivTasks($(".user-task-input-4pm"), tasksArray4PM, $(".task-list-4pm"), "Array-4pm");
            });
            $(".save-task-5pm").on("click", function () {
                creatingDivTasks($(".user-task-input-5pm"), tasksArray5PM, $(".task-list-5pm"), "Array-5pm");
            });
            $(".clear-all").on("click", function() {
                localStorage.clear();
            });

        });
       
    </script>


</body>

</html>